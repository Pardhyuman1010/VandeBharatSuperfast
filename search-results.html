<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Search Results</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <section class="w-full px-4 py-10 bg-orange-600 text-center">
    <h1 class="text-white text-3xl font-bold mb-4">Train Search Results</h1>
    <div class="flex justify-center gap-4">
      <input id="fromStation" placeholder="Departure Station" class="px-4 py-2 rounded" />
      <input id="toStation" placeholder="Arrival Station" class="px-4 py-2 rounded" />
      <button onclick="searchTrains()" class="bg-blue-700 text-white px-6 py-2 rounded">Search Again</button>
    </div>
  </section>

  <section class="w-full px-4 py-10">
    <table class="w-full bg-white text-sm" id="resultsTable">
      <thead class="bg-gray-50">
  <tr>
    <th class="px-4 py-2">Train No</th>
    <th class="px-4 py-2">Name</th>
    <th class="px-4 py-2">From (Code)</th>
    <th class="px-4 py-2">To (Code)</th>
    <th class="px-4 py-2">Dep Time</th>
    <th class="px-4 py-2">Arr Time</th>
    <th class="px-4 py-2">Duration</th>
    <th class="px-4 py-2">Distance</th>
    <th class="px-4 py-2">Days</th>
  </tr>
</thead>
      <tbody></tbody>
    </table>
  </section>

  <script>
  function showResults(from, to) {
    const tbody = document.querySelector("#resultsTable tbody");
    tbody.innerHTML = "";

    const filtered = trainData.filter(train => {
      const fromMatch = from ? train["Departure Station"].toLowerCase().includes(from.toLowerCase()) : true;
      const toMatch = to ? train["Arrival Station"].toLowerCase().includes(to.toLowerCase()) : true;
      return fromMatch && toMatch;
    });

    if (filtered.length === 0) {
      tbody.innerHTML = `<tr><td colspan="9" class="text-center py-4 text-red-500">No trains found for this route.</td></tr>`;
      return;
    }

    filtered.forEach(train => {
      const row = `
        <tr class="text-center border-b">
          <td class="px-4 py-2">${train["Train Number"]}</td>
          <td class="px-4 py-2">${train["Train Name"]}</td>
          <td class="px-4 py-2">${train["Departure Station"]} (${train["Departure Station Code"]})</td>
          <td class="px-4 py-2">${train["Arrival Station"]} (${train["Arrival Station Code"]})</td>
          <td class="px-4 py-2">${train["Departure Time"]}</td>
          <td class="px-4 py-2">${train["Arrival Time"]}</td>
          <td class="px-4 py-2">${train["Journey Duration"]}</td>
          <td class="px-4 py-2">${train["Journey Distance"]}</td>
          <td class="px-4 py-2">${train["Weekly Schedule"]}</td>
        </tr>
      `;
      tbody.innerHTML += row;
    });
  }
</script>

</body>
</html>
